<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mq.mapper.ProductsMapper">

	
	<insert id="insertProducts" parameterType="map">
		insert into products (type,title,imgurl1,remark,xh) values(#{type},#{title},#{imgurl1},#{remark},#{xh})
	</insert>
	<update id="updateProducts" parameterType="map">
		update products set title=#{title},imgurl1=#{imgurl1},remark=#{remark},xh=#{xh},type=#{type}
		 where id = #{id}
	</update>
	<select id="getProductsOne" resultType="map" parameterType="String">
		select * from products where id=#{id}
	</select>
	<select id="getProducts" resultType="map" parameterType="map">
		select * from products where ${typesql} order by xh desc limit ${pagestart},${pagesize}
	</select>
	<select id="getProductsCount" resultType="String" parameterType="String">
		select count(1) from products where ${_parameter}
	</select>
	<delete id="deleteProducts" parameterType="String">
		delete from products where id=#{id}
	</delete>
	<delete id="deleteAllProductdetail" parameterType="String">
		delete from productdetail where productid=#{productid}
	</delete>
	<delete id="deleteProductdetail" parameterType="String">
		delete from productdetail where id=#{id}
	</delete>
</mapper>